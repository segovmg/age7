Updating aaa5c3b..21c45db
Fast-forward
 Makefile          |  6 +++++-
 docker_install.sh | 29 -----------------------------
 2 files changed, 5 insertions(+), 30 deletions(-)
 delete mode 100644 docker_install.sh
rm -rf logs/extract/*
rm -rf logs/parse/*
rm -rf logs/tests/*
rm -rf logs/update/*
rm -f logs/full_extract.txt
rm -f logs/ingest.txt
rm -f logs/build.txt
rm -f logs/create.txt
rm -rf data/raw/*
rm -f datapackage.json
rm -rf build_datasets
make: Nothing to be done for 'parse'.
# python scripts/python/full-extract.py
dtamg-py etl-make full-extract 2> logs/full_extract.txt
rsync --itemize-changes --checksum data/raw/* data/staging/ 2> logs/ingest.txt
>fcsT...... dm_acao.csv
>fcsT...... dm_acao_resto.csv
>fcsT...... dm_alinea_rec.csv
>fcsT...... dm_cargo_scdp.csv
>fcsT...... dm_categ_econ.csv
>fcsT...... dm_cidade.csv
>fcsT...... dm_classe_matserv.csv
>fcsT...... dm_classifica_rec.csv
>fcsT...... dm_concedente.csv
>fcsT...... dm_contratado.csv
>fcsT...... dm_contrato_divida.csv
>fcsT...... dm_convenente.csv
>fcsT...... dm_convenio.csv
>fcsT...... dm_convenio_entrada.csv
>fcsT...... dm_desdobramento_1_rec.csv
>fcsT...... dm_desdobramento_2_rec.csv
>fcsT...... dm_desdobramento_3_rec.csv
>fcsT...... dm_documento_viagem.csv
>fc.T...... dm_empenho_desp_2002.csv
>fc.T...... dm_empenho_desp_2003.csv
>fc.T...... dm_empenho_desp_2004.csv
>fc.T...... dm_empenho_desp_2005.csv
>fc.T...... dm_empenho_desp_2006.csv
>fc.T...... dm_empenho_desp_2007.csv
>fc.T...... dm_empenho_desp_2008.csv
>fc.T...... dm_empenho_desp_2009.csv
>fc.T...... dm_empenho_desp_2010.csv
>fc.T...... dm_empenho_desp_2011.csv
>fc.T...... dm_empenho_desp_2012.csv
>fc.T...... dm_empenho_desp_2013.csv
>fc.T...... dm_empenho_desp_2014.csv
>fc.T...... dm_empenho_desp_2015.csv
>fc.T...... dm_empenho_desp_2016.csv
>fc.T...... dm_empenho_desp_2017.csv
>fc.T...... dm_empenho_desp_2018.csv
>fc.T...... dm_empenho_desp_2019.csv
>fc.T...... dm_empenho_desp_2020.csv
>fc.T...... dm_empenho_desp_2021.csv
>fcsT...... dm_empenho_desp_2022.csv
>fcsT...... dm_empenho_desp_compras_empenho.csv
>fc.T...... dm_empenho_resto_2002.csv
>fc.T...... dm_empenho_resto_2003.csv
>fc.T...... dm_empenho_resto_2004.csv
>fc.T...... dm_empenho_resto_2005.csv
>fc.T...... dm_empenho_resto_2006.csv
>fc.T...... dm_empenho_resto_2007.csv
>fc.T...... dm_empenho_resto_2008.csv
>fc.T...... dm_empenho_resto_2009.csv
>fc.T...... dm_empenho_resto_2010.csv
>fc.T...... dm_empenho_resto_2011.csv
>fc.T...... dm_empenho_resto_2012.csv
>fc.T...... dm_empenho_resto_2013.csv
>fc.T...... dm_empenho_resto_2014.csv
>fc.T...... dm_empenho_resto_2015.csv
>fc.T...... dm_empenho_resto_2016.csv
>fc.T...... dm_empenho_resto_2017.csv
>fc.T...... dm_empenho_resto_2018.csv
>fc.T...... dm_empenho_resto_2019.csv
>fc.T...... dm_empenho_resto_2020.csv
>fc.T...... dm_empenho_resto_2021.csv
>fcsT...... dm_empenho_resto_2022.csv
>fcsT...... dm_especie_rec.csv
>fcsT...... dm_estado.csv
>fcsT...... dm_favorecido.csv
>fcsT...... dm_fonte_rec.csv
>fcsT...... dm_funcao_scdp.csv
>fcsT...... dm_interveniente.csv
>fcsT...... dm_linha_fornec.csv
>fcsT...... dm_municipio.csv
>fcsT...... dm_pais.csv
>fcsT...... dm_processo.csv
>fcsT...... dm_subalinea_rec.csv
>fcsT...... dm_tipo_documento.csv
>fcsT...... dm_tipo_licitacao.csv
>fcsT...... fl_compras_empenho.csv
>fcsT...... fl_convenio_entrada_interv.csv
>fcsT...... fl_convenio_interveniente.csv
>fcsT...... fl_despesa_pgto.csv
>fcsT...... ft_compras.csv
>fcsT...... ft_convenio_entrada_desp.csv
>fcsT...... ft_convenio_investimento.csv
>fc.T...... ft_despesa_2021.csv
>fcsT...... ft_despesa_2022.csv
>fc.T...... ft_diarias_2021.csv
>fcsT...... ft_diarias_2022.csv
>fcsT...... ft_receita_v2018.csv
>fcsT...... ft_repasse_mun.csv
>fcsT...... ft_restos_pagar_2022.csv
gzip -n < data/staging/dm_contrato_divida.csv > data/dm_contrato_divida.csv.gz
gzip -n < data/staging/dm_tipo_documento.csv > data/dm_tipo_documento.csv.gz
gzip -n < data/staging/dm_alinea_rec.csv > data/dm_alinea_rec.csv.gz
gzip -n < data/staging/dm_especie_rec.csv > data/dm_especie_rec.csv.gz
gzip -n < data/staging/dm_fonte_rec.csv > data/dm_fonte_rec.csv.gz
gzip -n < data/staging/dm_subalinea_rec.csv > data/dm_subalinea_rec.csv.gz
gzip -n < data/staging/dm_desdobramento_1_rec.csv > data/dm_desdobramento_1_rec.csv.gz
gzip -n < data/staging/dm_desdobramento_2_rec.csv > data/dm_desdobramento_2_rec.csv.gz
gzip -n < data/staging/dm_desdobramento_3_rec.csv > data/dm_desdobramento_3_rec.csv.gz
gzip -n < data/staging/ft_receita_v2018.csv > data/ft_receita_v2018.csv.gz
gzip -n < data/staging/dm_acao.csv > data/dm_acao.csv.gz
gzip -n < data/staging/dm_funcao_scdp.csv > data/dm_funcao_scdp.csv.gz
gzip -n < data/staging/ft_convenio_investimento.csv > data/ft_convenio_investimento.csv.gz
gzip -n < data/staging/fl_convenio_interveniente.csv > data/fl_convenio_interveniente.csv.gz
gzip -n < data/staging/ft_convenio_entrada_desp.csv > data/ft_convenio_entrada_desp.csv.gz
gzip -n < data/staging/dm_convenio_entrada.csv > data/dm_convenio_entrada.csv.gz
gzip -n < data/staging/dm_documento_viagem.csv > data/dm_documento_viagem.csv.gz
gzip -n < data/staging/dm_empenho_desp_compras_empenho.csv > data/dm_empenho_desp_compras_empenho.csv.gz
gzip -n < data/staging/dm_empenho_desp_2002.csv > data/dm_empenho_desp_2002.csv.gz
gzip -n < data/staging/dm_empenho_desp_2003.csv > data/dm_empenho_desp_2003.csv.gz
gzip -n < data/staging/dm_empenho_desp_2004.csv > data/dm_empenho_desp_2004.csv.gz
gzip -n < data/staging/dm_empenho_desp_2005.csv > data/dm_empenho_desp_2005.csv.gz
gzip -n < data/staging/dm_empenho_desp_2006.csv > data/dm_empenho_desp_2006.csv.gz
gzip -n < data/staging/dm_empenho_desp_2007.csv > data/dm_empenho_desp_2007.csv.gz
gzip -n < data/staging/dm_empenho_desp_2008.csv > data/dm_empenho_desp_2008.csv.gz
gzip -n < data/staging/dm_empenho_desp_2009.csv > data/dm_empenho_desp_2009.csv.gz
gzip -n < data/staging/dm_empenho_desp_2010.csv > data/dm_empenho_desp_2010.csv.gz
gzip -n < data/staging/dm_empenho_desp_2011.csv > data/dm_empenho_desp_2011.csv.gz
gzip -n < data/staging/dm_empenho_desp_2012.csv > data/dm_empenho_desp_2012.csv.gz
gzip -n < data/staging/dm_empenho_desp_2013.csv > data/dm_empenho_desp_2013.csv.gz
gzip -n < data/staging/dm_empenho_desp_2014.csv > data/dm_empenho_desp_2014.csv.gz
gzip -n < data/staging/dm_empenho_desp_2015.csv > data/dm_empenho_desp_2015.csv.gz
gzip -n < data/staging/dm_empenho_desp_2016.csv > data/dm_empenho_desp_2016.csv.gz
gzip -n < data/staging/dm_empenho_desp_2017.csv > data/dm_empenho_desp_2017.csv.gz
gzip -n < data/staging/dm_empenho_desp_2018.csv > data/dm_empenho_desp_2018.csv.gz
gzip -n < data/staging/dm_empenho_desp_2019.csv > data/dm_empenho_desp_2019.csv.gz
gzip -n < data/staging/dm_empenho_desp_2020.csv > data/dm_empenho_desp_2020.csv.gz
gzip -n < data/staging/dm_empenho_desp_2021.csv > data/dm_empenho_desp_2021.csv.gz
gzip -n < data/staging/dm_empenho_desp_2022.csv > data/dm_empenho_desp_2022.csv.gz
gzip -n < data/staging/dm_favorecido.csv > data/dm_favorecido.csv.gz
gzip -n < data/staging/fl_despesa_pgto.csv > data/fl_despesa_pgto.csv.gz
gzip -n < data/staging/dm_cidade.csv > data/dm_cidade.csv.gz
gzip -n < data/staging/dm_linha_fornec.csv > data/dm_linha_fornec.csv.gz
gzip -n < data/staging/dm_processo.csv > data/dm_processo.csv.gz
gzip -n < data/staging/fl_compras_empenho.csv > data/fl_compras_empenho.csv.gz
gzip -n < data/staging/dm_convenio.csv > data/dm_convenio.csv.gz
gzip -n < data/staging/fl_convenio_entrada_interv.csv > data/fl_convenio_entrada_interv.csv.gz
gzip -n < data/staging/dm_classifica_rec.csv > data/dm_classifica_rec.csv.gz
gzip -n < data/staging/dm_concedente.csv > data/dm_concedente.csv.gz
gzip -n < data/staging/dm_interveniente.csv > data/dm_interveniente.csv.gz
gzip -n < data/staging/dm_estado.csv > data/dm_estado.csv.gz
gzip -n < data/staging/dm_convenente.csv > data/dm_convenente.csv.gz
gzip -n < data/staging/dm_cargo_scdp.csv > data/dm_cargo_scdp.csv.gz
gzip -n < data/staging/dm_pais.csv > data/dm_pais.csv.gz
gzip -n < data/staging/ft_compras.csv > data/ft_compras.csv.gz
gzip -n < data/staging/ft_despesa_2021.csv > data/ft_despesa_2021.csv.gz
gzip -n < data/staging/ft_despesa_2022.csv > data/ft_despesa_2022.csv.gz
gzip -n < data/staging/dm_classe_matserv.csv > data/dm_classe_matserv.csv.gz
gzip -n < data/staging/dm_tipo_licitacao.csv > data/dm_tipo_licitacao.csv.gz
gzip -n < data/staging/dm_contratado.csv > data/dm_contratado.csv.gz
gzip -n < data/staging/dm_empenho_resto_2002.csv > data/dm_empenho_resto_2002.csv.gz
gzip -n < data/staging/dm_empenho_resto_2003.csv > data/dm_empenho_resto_2003.csv.gz
gzip -n < data/staging/dm_empenho_resto_2004.csv > data/dm_empenho_resto_2004.csv.gz
gzip -n < data/staging/dm_empenho_resto_2005.csv > data/dm_empenho_resto_2005.csv.gz
gzip -n < data/staging/dm_empenho_resto_2006.csv > data/dm_empenho_resto_2006.csv.gz
gzip -n < data/staging/dm_empenho_resto_2007.csv > data/dm_empenho_resto_2007.csv.gz
gzip -n < data/staging/dm_empenho_resto_2008.csv > data/dm_empenho_resto_2008.csv.gz
gzip -n < data/staging/dm_empenho_resto_2009.csv > data/dm_empenho_resto_2009.csv.gz
gzip -n < data/staging/dm_empenho_resto_2010.csv > data/dm_empenho_resto_2010.csv.gz
gzip -n < data/staging/dm_empenho_resto_2011.csv > data/dm_empenho_resto_2011.csv.gz
gzip -n < data/staging/dm_empenho_resto_2012.csv > data/dm_empenho_resto_2012.csv.gz
gzip -n < data/staging/dm_empenho_resto_2013.csv > data/dm_empenho_resto_2013.csv.gz
gzip -n < data/staging/dm_empenho_resto_2014.csv > data/dm_empenho_resto_2014.csv.gz
gzip -n < data/staging/dm_empenho_resto_2015.csv > data/dm_empenho_resto_2015.csv.gz
gzip -n < data/staging/dm_empenho_resto_2016.csv > data/dm_empenho_resto_2016.csv.gz
gzip -n < data/staging/dm_empenho_resto_2017.csv > data/dm_empenho_resto_2017.csv.gz
gzip -n < data/staging/dm_empenho_resto_2018.csv > data/dm_empenho_resto_2018.csv.gz
gzip -n < data/staging/dm_empenho_resto_2019.csv > data/dm_empenho_resto_2019.csv.gz
gzip -n < data/staging/dm_empenho_resto_2020.csv > data/dm_empenho_resto_2020.csv.gz
gzip -n < data/staging/dm_empenho_resto_2021.csv > data/dm_empenho_resto_2021.csv.gz
gzip -n < data/staging/dm_empenho_resto_2022.csv > data/dm_empenho_resto_2022.csv.gz
gzip -n < data/staging/dm_categ_econ.csv > data/dm_categ_econ.csv.gz
gzip -n < data/staging/dm_municipio.csv > data/dm_municipio.csv.gz
gzip -n < data/staging/ft_diarias_2021.csv > data/ft_diarias_2021.csv.gz
gzip -n < data/staging/ft_diarias_2022.csv > data/ft_diarias_2022.csv.gz
gzip -n < data/staging/ft_restos_pagar_2022.csv > data/ft_restos_pagar_2022.csv.gz
gzip -n < data/staging/dm_acao_resto.csv > data/dm_acao_resto.csv.gz
gzip -n < data/staging/ft_repasse_mun.csv > data/ft_repasse_mun.csv.gz
dtamg-py etl-make validate -r dm_contrato_divida > logs/validate/dm_contrato_divida.json
dtamg-py etl-make validate -r dm_tipo_documento > logs/validate/dm_tipo_documento.json
dtamg-py etl-make validate -r dm_alinea_rec > logs/validate/dm_alinea_rec.json
dtamg-py etl-make validate -r dm_especie_rec > logs/validate/dm_especie_rec.json
dtamg-py etl-make validate -r dm_fonte_rec > logs/validate/dm_fonte_rec.json
dtamg-py etl-make validate -r dm_subalinea_rec > logs/validate/dm_subalinea_rec.json
dtamg-py etl-make validate -r dm_desdobramento_1_rec > logs/validate/dm_desdobramento_1_rec.json
dtamg-py etl-make validate -r dm_desdobramento_2_rec > logs/validate/dm_desdobramento_2_rec.json
dtamg-py etl-make validate -r dm_desdobramento_3_rec > logs/validate/dm_desdobramento_3_rec.json
dtamg-py etl-make validate -r ft_receita_v2018 > logs/validate/ft_receita_v2018.json
dtamg-py etl-make validate -r dm_acao > logs/validate/dm_acao.json
dtamg-py etl-make validate -r dm_funcao_scdp > logs/validate/dm_funcao_scdp.json
dtamg-py etl-make validate -r ft_convenio_investimento > logs/validate/ft_convenio_investimento.json
dtamg-py etl-make validate -r fl_convenio_interveniente > logs/validate/fl_convenio_interveniente.json
dtamg-py etl-make validate -r ft_convenio_entrada_desp > logs/validate/ft_convenio_entrada_desp.json
dtamg-py etl-make validate -r dm_convenio_entrada > logs/validate/dm_convenio_entrada.json
dtamg-py etl-make validate -r dm_documento_viagem > logs/validate/dm_documento_viagem.json
dtamg-py etl-make validate -r dm_empenho_desp_compras_empenho > logs/validate/dm_empenho_desp_compras_empenho.json
dtamg-py etl-make validate -r dm_empenho_desp_2002 > logs/validate/dm_empenho_desp_2002.json
dtamg-py etl-make validate -r dm_empenho_desp_2003 > logs/validate/dm_empenho_desp_2003.json
dtamg-py etl-make validate -r dm_empenho_desp_2004 > logs/validate/dm_empenho_desp_2004.json
dtamg-py etl-make validate -r dm_empenho_desp_2005 > logs/validate/dm_empenho_desp_2005.json
dtamg-py etl-make validate -r dm_empenho_desp_2006 > logs/validate/dm_empenho_desp_2006.json
dtamg-py etl-make validate -r dm_empenho_desp_2007 > logs/validate/dm_empenho_desp_2007.json
dtamg-py etl-make validate -r dm_empenho_desp_2008 > logs/validate/dm_empenho_desp_2008.json
dtamg-py etl-make validate -r dm_empenho_desp_2009 > logs/validate/dm_empenho_desp_2009.json
dtamg-py etl-make validate -r dm_empenho_desp_2010 > logs/validate/dm_empenho_desp_2010.json
dtamg-py etl-make validate -r dm_empenho_desp_2011 > logs/validate/dm_empenho_desp_2011.json
dtamg-py etl-make validate -r dm_empenho_desp_2012 > logs/validate/dm_empenho_desp_2012.json
dtamg-py etl-make validate -r dm_empenho_desp_2013 > logs/validate/dm_empenho_desp_2013.json
dtamg-py etl-make validate -r dm_empenho_desp_2014 > logs/validate/dm_empenho_desp_2014.json
dtamg-py etl-make validate -r dm_empenho_desp_2015 > logs/validate/dm_empenho_desp_2015.json
dtamg-py etl-make validate -r dm_empenho_desp_2016 > logs/validate/dm_empenho_desp_2016.json
dtamg-py etl-make validate -r dm_empenho_desp_2017 > logs/validate/dm_empenho_desp_2017.json
dtamg-py etl-make validate -r dm_empenho_desp_2018 > logs/validate/dm_empenho_desp_2018.json
dtamg-py etl-make validate -r dm_empenho_desp_2019 > logs/validate/dm_empenho_desp_2019.json
dtamg-py etl-make validate -r dm_empenho_desp_2020 > logs/validate/dm_empenho_desp_2020.json
dtamg-py etl-make validate -r dm_empenho_desp_2021 > logs/validate/dm_empenho_desp_2021.json
dtamg-py etl-make validate -r dm_empenho_desp_2022 > logs/validate/dm_empenho_desp_2022.json
dtamg-py etl-make validate -r dm_favorecido > logs/validate/dm_favorecido.json
dtamg-py etl-make validate -r fl_despesa_pgto > logs/validate/fl_despesa_pgto.json
dtamg-py etl-make validate -r dm_cidade > logs/validate/dm_cidade.json
dtamg-py etl-make validate -r dm_linha_fornec > logs/validate/dm_linha_fornec.json
dtamg-py etl-make validate -r dm_processo > logs/validate/dm_processo.json
dtamg-py etl-make validate -r fl_compras_empenho > logs/validate/fl_compras_empenho.json
dtamg-py etl-make validate -r dm_convenio > logs/validate/dm_convenio.json
dtamg-py etl-make validate -r fl_convenio_entrada_interv > logs/validate/fl_convenio_entrada_interv.json
dtamg-py etl-make validate -r dm_classifica_rec > logs/validate/dm_classifica_rec.json
dtamg-py etl-make validate -r dm_concedente > logs/validate/dm_concedente.json
dtamg-py etl-make validate -r dm_interveniente > logs/validate/dm_interveniente.json
dtamg-py etl-make validate -r dm_estado > logs/validate/dm_estado.json
dtamg-py etl-make validate -r dm_convenente > logs/validate/dm_convenente.json
dtamg-py etl-make validate -r dm_cargo_scdp > logs/validate/dm_cargo_scdp.json
dtamg-py etl-make validate -r dm_pais > logs/validate/dm_pais.json
dtamg-py etl-make validate -r ft_compras > logs/validate/ft_compras.json
dtamg-py etl-make validate -r ft_despesa_2021 > logs/validate/ft_despesa_2021.json
dtamg-py etl-make validate -r ft_despesa_2022 > logs/validate/ft_despesa_2022.json
dtamg-py etl-make validate -r dm_classe_matserv > logs/validate/dm_classe_matserv.json
dtamg-py etl-make validate -r dm_tipo_licitacao > logs/validate/dm_tipo_licitacao.json
dtamg-py etl-make validate -r dm_contratado > logs/validate/dm_contratado.json
dtamg-py etl-make validate -r dm_empenho_resto_2002 > logs/validate/dm_empenho_resto_2002.json
dtamg-py etl-make validate -r dm_empenho_resto_2003 > logs/validate/dm_empenho_resto_2003.json
dtamg-py etl-make validate -r dm_empenho_resto_2004 > logs/validate/dm_empenho_resto_2004.json
dtamg-py etl-make validate -r dm_empenho_resto_2005 > logs/validate/dm_empenho_resto_2005.json
dtamg-py etl-make validate -r dm_empenho_resto_2006 > logs/validate/dm_empenho_resto_2006.json
dtamg-py etl-make validate -r dm_empenho_resto_2007 > logs/validate/dm_empenho_resto_2007.json
dtamg-py etl-make validate -r dm_empenho_resto_2008 > logs/validate/dm_empenho_resto_2008.json
dtamg-py etl-make validate -r dm_empenho_resto_2009 > logs/validate/dm_empenho_resto_2009.json
dtamg-py etl-make validate -r dm_empenho_resto_2010 > logs/validate/dm_empenho_resto_2010.json
dtamg-py etl-make validate -r dm_empenho_resto_2011 > logs/validate/dm_empenho_resto_2011.json
dtamg-py etl-make validate -r dm_empenho_resto_2012 > logs/validate/dm_empenho_resto_2012.json
dtamg-py etl-make validate -r dm_empenho_resto_2013 > logs/validate/dm_empenho_resto_2013.json
dtamg-py etl-make validate -r dm_empenho_resto_2014 > logs/validate/dm_empenho_resto_2014.json
dtamg-py etl-make validate -r dm_empenho_resto_2015 > logs/validate/dm_empenho_resto_2015.json
dtamg-py etl-make validate -r dm_empenho_resto_2016 > logs/validate/dm_empenho_resto_2016.json
dtamg-py etl-make validate -r dm_empenho_resto_2017 > logs/validate/dm_empenho_resto_2017.json
dtamg-py etl-make validate -r dm_empenho_resto_2018 > logs/validate/dm_empenho_resto_2018.json
dtamg-py etl-make validate -r dm_empenho_resto_2019 > logs/validate/dm_empenho_resto_2019.json
dtamg-py etl-make validate -r dm_empenho_resto_2020 > logs/validate/dm_empenho_resto_2020.json
dtamg-py etl-make validate -r dm_empenho_resto_2021 > logs/validate/dm_empenho_resto_2021.json
dtamg-py etl-make validate -r dm_empenho_resto_2022 > logs/validate/dm_empenho_resto_2022.json
dtamg-py etl-make validate -r dm_categ_econ > logs/validate/dm_categ_econ.json
dtamg-py etl-make validate -r dm_municipio > logs/validate/dm_municipio.json
dtamg-py etl-make validate -r ft_diarias_2017 > logs/validate/ft_diarias_2017.json
dtamg-py etl-make validate -r ft_diarias_2021 > logs/validate/ft_diarias_2021.json
dtamg-py etl-make validate -r ft_diarias_2022 > logs/validate/ft_diarias_2022.json
dtamg-py etl-make validate -r ft_restos_pagar_2022 > logs/validate/ft_restos_pagar_2022.json
dtamg-py etl-make validate -r dm_acao_resto > logs/validate/dm_acao_resto.json
dtamg-py etl-make validate -r ft_repasse_mun > logs/validate/ft_repasse_mun.json
dtamg-py etl-make validate -r ft_diarias_2017 > logs/validate/ft_diarias_2017.json
dtamg-py etl-make validate -r dm_empenho_desp_2017 > logs/validate/dm_empenho_desp_2017.json
dtamg-py etl-make validate -r dm_empenho_resto_2017 > logs/validate/dm_empenho_resto_2017.json
dtamg-py etl-make build-datapackage
Rscript --verbose -e "testthat::test_file('tests/testthat/test_dm_contratado.R', stop_on_failure=TRUE)" 2> logs/tests/test_dm_contratado.Rout

== Testing test_dm_contratado.R ================================================
[ FAIL 0 | WARN 0 | SKIP 0 | PASS 0 ][ FAIL 0 | WARN 0 | SKIP 0 | PASS 0 ][ FAIL 0 | WARN 0 | SKIP 0 | PASS 1 ][ FAIL 0 | WARN 0 | SKIP 0 | PASS 2 ] Done!
Rscript --verbose -e "testthat::test_file('tests/testthat/test_dm_favorecido.R', stop_on_failure=TRUE)" 2> logs/tests/test_dm_favorecido.Rout

== Testing test_dm_favorecido.R ================================================
[ FAIL 0 | WARN 0 | SKIP 0 | PASS 0 ][ FAIL 0 | WARN 0 | SKIP 0 | PASS 0 ][ FAIL 0 | WARN 0 | SKIP 0 | PASS 1 ][ FAIL 0 | WARN 0 | SKIP 0 | PASS 2 ][ FAIL 1 | WARN 0 | SKIP 0 | PASS 2 ][ FAIL 1 | WARN 0 | SKIP 0 | PASS 3 ][ FAIL 1 | WARN 0 | SKIP 0 | PASS 4 ][ FAIL 1 | WARN 0 | SKIP 0 | PASS 5 ][ FAIL 1 | WARN 0 | SKIP 0 | PASS 6 ]

-- Error (test_dm_favorecido.R:33:3): Anonimização prêmios lotéricos -----------
Error in `bmerge(i, x, leftcols, rightcols, roll, rollends, nomatch, mult, 
    ops, verbose = verbose)`: Incompatible join types: x.id_unidade_orc (logical) and i.id_unidade_orc (integer)
Backtrace:
 1. base::unlist(map(2002:2022, get_id_favorecido_premios_lotericos)) test_dm_favorecido.R:33:2
 2. purrr::map(2002:2022, get_id_favorecido_premios_lotericos)
 3. .f(.x[[i]], ...)
 5. data.table:::`[.data.table`(dm_unidade_orc, ft_despesa, on = "id_unidade_orc") test_dm_favorecido.R:24:4
 6. data.table:::bmerge(...)

[ FAIL 1 | WARN 0 | SKIP 0 | PASS 6 ]
